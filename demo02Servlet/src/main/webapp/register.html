<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>验证码案例</title>
  <script>
    /**
     * 分析：点击超链接或者图片，需要换一张
     * 1、给超链接和图片绑定单击事件
     * 2、重新设置图片的src属性值
     * */
    window.onload = function () {
      //1、获取图片对象
      var img = document.getElementById("checkCode");
      //2、绑定单击事件
      img.onclick = function () {
        //更新验证码
        updateImg();
      }

      //给超链接绑定单击事件
      var a = document.getElementById("change");
      a.onclick = function () {
        //拒绝超链接跳转
        a.href = "javascript:void(0);";
        //更新验证码
        updateImg();
      }

      //更改图片函数
      var updateImg = function () {
        //?后边跟参数，无意义，但是可以跳过浏览器缓存，生成新的图片
        //加时间戳，产生永不相同的数
        var date = new Date().getTime();
        img.src = "/servlet/checkCodeServlet?" + date;
      }
    }
  </script>
</head>
<body>
<img id="checkCode" src="/checkCodeServlet"/>
<a id="change" href="">看不清，换一张？</a>
</body>
</html>